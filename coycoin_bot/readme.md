*** 
## Инструкция по эксплуатации телеграм-бота.
***
### Корпоративный телеграм-бот (Койкоин).
Бот работает совместно с приложением Django(админка). База данных общая на два приложения. Сама БД в проекте отсутствует. Инициализация происходит по средством приложения Django. В методах задаётся относительный путь к базе.
***
### Перечень файлов проекта и краткое описание.
***
### Файлы в корне проекта:

1. __.env.template__ - образец файла .env с описанием данных.
2. __.env__ - необходимо создать вручную и поместить Токен телеграм-бота.
3. __loader.py__ - создаёт экземпляры: телеграмм-бота и логгера.
4. __logging_config.py__ - задаёт конфигурацию логгеру.
5. __main.py__ - запускает бота.
6. __readme.md__ - инструкция по эксплуатации телеграмм-бота.
7. __requirements.txt__ - файл с зависимостями.

### Пакеты в корне проекта:
#### 1. settings:
* __init.py__ - инициализирует пакет settings и его содержимое.
* __settings.py__ - подгружает переменные окружения, для работы бота.
#### 2. keyboards:
* __init.py__ - инициализирует пакет keyboards и его содержимое
* __keyboards.py__  - содержит все клавиатуры участвующие в проекте
#### 3. handlers:
* __init.py__ - инициализирует пакет handlers и его содержимое.
* __start.py__ - содержит хэндлеры для отлова команд старт и хелп.
* __tasks.py__ - логика работы команды tasks.
* __shop.py__ - логика работы команды shop.
* __result.py__ - логика работы команды result.
* __echo.py__ - содержит хэндлер для отлова сообщений вне сценария.
#### 4. database:
* __init.py__ - инициализирует пакет database и его содержимое
* __models.py__ - содержит модели классов машины состояния.
* __database.py__ - содержит Декоратор БД и методы запросов к БД.
#### 5. config:
* __bot.conf__ - файл с конфигурациями супервизора.


### Команды бота:

* /start - Запуск бота
* /help — Помощь
* /tasks — Просмотр заданий
* /shop — Просмотр призов
* /result — Просмотр результатов

***
### Инструкция по эксплуатации:

Для запуска бота, Вам необходимо будет создать виртуальное окружение venv. Поместить токен-бота в переменную окружения (Файл .env). 
Далее запускаем бота в файле main.py. Для отслеживания функционирования бота и возможных ошибок, ведётся логгирование, 
путём записи данных в файл error.log  (записывает только возникшие исключения). 
Параметры логгирования можно изменить в файле logging_config.py. По умолчанию в конфигурации логгера, логи в файле хранятся не более 24 часов.
Текста сообщений бота и текста кнопок клавиатур на 90% находятся в базе данных. Замена осуществляется по средством редактирования записей в таблицах БД (bot_message, button_text).
Осуществлять замену стоит только в поле message. Категорически запрещено изменять текст в поле variable, т.к. приведёт к сбоям бота.

***
